### Real MySQL 8.0 책을 읽으며 정리한 내용과 나의 생각 정리

#### *(?)이 표시된 것은 나의 생각*

### 현재까지의 한줄 요약
다양한 대응 방법을 익혀 트래픽량과 서비스의 종류에 따라 적절히 대응할 수 있어야 하는 기술을 익히는 느낌(?)

# * 스토리지 엔진
### MyISAM 엔진
#### - 키 캐시(인덱스 캐싱)
#### - 읽기, 쓰기를 포그라운드 스레드가 처리
#### - 메타 데이터를 별도의 파일에 저장(.sdi 확장자명의 파일)
#### - 클러스터링 키 미지원

### InnoDB엔진
#### - 버퍼 풀(테이블 및 인덱스 데이터를 캐싱)
#### - 읽기만 포그라운드 스레드가 처리, 쓰기는 백그라운드 스레드가 처리
  * 이 장점으로 인해 버퍼링(지연)처리가 가능하여 동시 작업이 가능할 듯(삽입, 변경, 삭제들을 모아서 한 번에 처리?) 
#### - 메타 데이터를 DB에 저장
#### - 클러스터링 키 지원, 프라이머리 키 값의 순서대로 디스크에 저장된다는 뜻
  * 데이터를 서칭하는 과정이 좀 더 빠르게 될 수 있는 듯(?)

# * 메모리 구조
### 글로벌 메모리 영역
 * 무조건적으로 사용되야하는 데이터들이다보니 항상 메모리를 할당하여 활용하는 듯(?)
#### - InnoBD 버퍼 풀
#### - MyISAM 키 캐시
#### - 바이너리 로그 버퍼
#### - 리두 로그 버프
#### - 테이블 캐시

### 세션(커넥션,로컬) 메모리 영역
 * 필요할 때만 사용하면 되는 데이터들이다보니 항상 메모리를 할당하진 않는 듯(?)
#### - 조인 버퍼
#### - 정렬(sort) 버프
#### - 네트워크 버퍼
#### - 리드 버프

# * 쿼리 캐시
#### 수많은 버그의 원인으로 지목되어 MySQL 8.0이상부터는 삭제된 기능
  * 하지만 데이터 변경이 없고 읽기만 하는 전자책같은 서비스에서는 최고의 효율을 보일 듯(?)

# * 5.7버전과 8.0버전의 차이점
### 5.7버전
#### 메타 데이터를 파일 기반으로 생성 및 변경하기 때문에 비정상적으로 종료되면 테이블이 깨질 수 있음
  * 작업 도중 멈춤으로 인해 데이터의 잔해가 남는 듯(?)

### 8.0버전
#### 메타 데이터를 InnoDB의 테이블에 저장함으로 비정상적으로 종료되어도 테이블이 보존됨(완전한 실패 또는 성공으로 구분)
#### mysql DB에 mysql.ibd라는 이름의 테이블 스페이스에 저장

# * 언두 영역
#### 업데이트되기 전의 데이터를 저장하고 있는 장소
#### 데이터가 커밋된다고해서 즉시 삭제되는 것은 아니고, 필요로 하는 트랙잭션이 존재하지 않을 때 삭제됨.
  * 트랙잭션이 엮인 상태가 쌓이게 되면 언두영역에 계속 데이터가 묶이게 됨으로 MySQL서버가 느려지는 듯(?)
  * 따라서, 계속해서 필요한 데이터가 아니라면 언두영역에서 삭제되도록 해주는 것이 성능 향상에 도움이 될 듯(?)

# * 바이너리 로그
#### 데이터 변경사항들에 대한 정보를 포함하는 로그 파일의 세트
  * 만약 DB에 문제가 생긴다면 백업 파일과 바이너리 로그를 활용하여 로그의 마지막 시점까지의 데이터를 복구할 수 있는 듯(?)

